{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import categoryService from\"../services/categoryService\";const initialState={addCategory:null,editCategory:null,deleteCat:null,categories:[],category:null,isError:false,isSuccess:false,isLoading:false,message:\"\"};export const fetchCategories=createAsyncThunk(\"categories/fetchCategories\",async(_,thunkAPI)=>{try{return await categoryService.fetchCategories();}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});export const updateCategory=createAsyncThunk(\"categories/updateCategory\",async(category,thunkAPI)=>{try{return await categoryService.updateCategory(category);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});export const createCategory=createAsyncThunk(\"categories/createCategory\",async(categoryId,thunkAPI)=>{try{return await categoryService.createCategory(categoryId);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});export const deleteCategory=createAsyncThunk(\"categories/deletedCategory\",async(category,thunkAPI)=>{try{return await categoryService.deleteCategory(category.id);}catch(error){const message=error.message||error;return thunkAPI.rejectWithValue(message);}});export const categoriesSlice=createSlice({name:\"categories\",initialState,reducers:{reset:state=>initialState,resetSuccessAndError:state=>{state.isSuccess=false;state.isError=false;state.message=\"\";},setEditCategory:(state,_ref)=>{let{payload}=_ref;state.editCategory=payload;state.addCategory=null;state.deleteCat=null;},setAddCategory:(state,_ref2)=>{let{payload}=_ref2;state.editCategory=null;state.addCategory=payload;state.deleteCat=null;},setDeleteCategory:(state,_ref3)=>{let{payload}=_ref3;state.editCategory=null;state.addCategory=null;state.deleteCat=payload;}},extraReducers:builder=>{builder.addCase(fetchCategories.pending,state=>{state.isLoading=true;}).addCase(fetchCategories.fulfilled,(state,_ref4)=>{let{payload}=_ref4;state.categories=payload.data;state.isSuccess=true;state.isLoading=false;state.message=payload.message;}).addCase(fetchCategories.rejected,(state,_ref5)=>{let{payload}=_ref5;state.message=payload;state.isError=true;state.isLoading=false;}).addCase(createCategory.pending,state=>{state.isLoading=true;}).addCase(createCategory.fulfilled,(state,_ref6)=>{let{payload}=_ref6;state.categories.push(payload.data);state.addCategory=null;state.isSuccess=true;state.isLoading=false;state.message=payload.message;}).addCase(createCategory.rejected,(state,_ref7)=>{let{payload}=_ref7;state.isError=true;state.isLoading=false;state.message=payload.message;}).addCase(updateCategory.pending,state=>{state.isLoading=true;}).addCase(updateCategory.fulfilled,(state,_ref8)=>{let{payload}=_ref8;const index=state.categories.findIndex(x=>x.id===payload.data.id);state.categories=state.categories.filter(x=>x.id!==payload.data.id);;state.categories.splice(index,0,payload.data);state.editCategory=null;state.isSuccess=true;state.isError=false;state.isLoading=false;state.message=payload.message;}).addCase(updateCategory.rejected,(state,_ref9)=>{let{payload}=_ref9;// state.editCategory = null;\nstate.isError=true;state.isLoading=false;state.message=payload.message;}).addCase(deleteCategory.pending,state=>{state.isLoading=true;}).addCase(deleteCategory.fulfilled,(state,_ref10)=>{let{payload}=_ref10;state.categories=state.categories.filter(x=>x.id!==payload.id);;state.deleteCat=null;state.isSuccess=true;state.isError=false;state.isLoading=false;state.message=payload.message;}).addCase(deleteCategory.rejected,(state,_ref11)=>{let{payload}=_ref11;// state.editCategory = null;\nstate.isError=true;state.isLoading=false;state.message=payload.message;});}});export const{reset,resetSuccessAndError,setEditCategory,setAddCategory,setDeleteCategory}=categoriesSlice.actions;export default categoriesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","categoryService","initialState","addCategory","editCategory","deleteCat","categories","category","isError","isSuccess","isLoading","message","fetchCategories","_","thunkAPI","error","rejectWithValue","updateCategory","createCategory","categoryId","deleteCategory","id","categoriesSlice","name","reducers","reset","state","resetSuccessAndError","setEditCategory","_ref","payload","setAddCategory","_ref2","setDeleteCategory","_ref3","extraReducers","builder","addCase","pending","fulfilled","_ref4","data","rejected","_ref5","_ref6","push","_ref7","_ref8","index","findIndex","x","filter","splice","_ref9","_ref10","_ref11","actions","reducer"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/frontend/src/features/categoriesSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport categoryService from \"../services/categoryService\";\n\nconst initialState = {\n  addCategory: null,\n  editCategory: null,\n  deleteCat: null,\n  categories: [],\n  category: null,\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: \"\",\n};\n\nexport const fetchCategories = createAsyncThunk(\n  \"categories/fetchCategories\",\n  async (_, thunkAPI) => {\n    try {\n      return await categoryService.fetchCategories();\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const updateCategory = createAsyncThunk(\n  \"categories/updateCategory\",\n  async(category, thunkAPI) => {\n    try {\n      return await categoryService.updateCategory(category);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const createCategory = createAsyncThunk(\n  \"categories/createCategory\",\n  async(categoryId, thunkAPI) => {\n    try {\n      return await categoryService.createCategory(categoryId);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const deleteCategory = createAsyncThunk(\n  \"categories/deletedCategory\",\n  async(category, thunkAPI) => {\n    try {\n      return await categoryService.deleteCategory(category.id);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const categoriesSlice = createSlice({\n  name: \"categories\",\n  initialState,\n  reducers: {\n    reset: (state) => initialState,\n    resetSuccessAndError: (state) => {\n      state.isSuccess = false;\n      state.isError = false;\n      state.message = \"\";\n    },\n    setEditCategory: (state, {payload}) => {\n      state.editCategory = payload;\n      state.addCategory = null;\n      state.deleteCat = null;\n    },\n    setAddCategory: (state, {payload}) => {\n      state.editCategory = null;\n      state.addCategory = payload;\n      state.deleteCat = null;\n    },\n    setDeleteCategory: (state, {payload}) => {\n      state.editCategory = null;\n      state.addCategory = null;\n      state.deleteCat = payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCategories.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(fetchCategories.fulfilled, (state, { payload }) => {\n        state.categories = payload.data;\n        state.isSuccess = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(fetchCategories.rejected, (state, { payload }) => {\n        state.message = payload;\n        state.isError = true;\n        state.isLoading = false;\n      })\n      .addCase(createCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(createCategory.fulfilled, (state, {payload}) => {\n        state.categories.push(payload.data);\n        state.addCategory = null;\n        state.isSuccess = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(createCategory.rejected, (state, {payload}) => {\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(updateCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(updateCategory.fulfilled, (state, {payload}) => {\n        const index = state.categories.findIndex((x) => x.id === payload.data.id);\n        state.categories = state.categories.filter((x) => x.id !== payload.data.id);;\n        state.categories.splice(index, 0, payload.data);\n        state.editCategory = null;\n        state.isSuccess = true;\n        state.isError = false;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(updateCategory.rejected, (state, {payload}) => {\n        // state.editCategory = null;\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(deleteCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(deleteCategory.fulfilled, (state, {payload}) => {\n        state.categories = state.categories.filter((x) => x.id !== payload.id);;\n        state.deleteCat = null;\n        state.isSuccess = true;\n        state.isError = false;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(deleteCategory.rejected, (state, {payload}) => {\n        // state.editCategory = null;\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n  },\n});\n\nexport const { \n  reset, \n  resetSuccessAndError, \n  setEditCategory,\n  setAddCategory,\n  setDeleteCategory,\n} = categoriesSlice.actions;\nexport default categoriesSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}