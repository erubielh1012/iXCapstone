{"ast":null,"code":"import React,{useEffect}from\"react\";import Heading from\"../../components/Heading\";import Navbar from\"../../components/Navbar\";import BlogGrid from\"../../components/BlogGrid\";import Footer from\"../../components/Footer\";import SubHeading from\"../../components/SubHeading\";import CategoryList from\"../../components/CategoryList\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import{useDispatch,useSelector}from\"react-redux\";import{fetchBlogs,reset as resetBlogs,resetSuccessAndError as resetBlogSucAndErr}from\"../../features/blogSlice\";import{fetchCategories,reset as resetCategories,resetSuccessAndError as resetCatSucAndErr}from\"../../features/categoriesSlice\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){const dispatch=useDispatch();const{blogs,isError:isBlogsError,isSuccess:isBlogsSuccess,message:blogsMessage}=useSelector(state=>state.blogs);const{categories,isError:isCategoriesError,isSuccess:isCategoriesSuccess,message:categoriesMessage}=useSelector(state=>state.categories);useEffect(()=>{dispatch(fetchBlogs());dispatch(fetchCategories());return()=>{dispatch(resetBlogs());dispatch(resetCategories());};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Heading,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(SubHeading,{subHeading:\"Recent Blog Posts\"}),/*#__PURE__*/_jsx(BlogGrid,{blogPosts:blogs})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-grey corner-clip-top-bottom py-15vmin mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5\",children:[/*#__PURE__*/_jsx(SubHeading,{subHeading:\"Categories\"}),/*#__PURE__*/_jsx(CategoryList,{isHome:true,categories:categories.slice(0,3)})]})})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(SuccessToast,{show:isBlogsSuccess||isCategoriesSuccess,message:blogsMessage||categoriesMessage,onClose:()=>{dispatch(resetBlogSucAndErr());dispatch(resetCatSucAndErr());}}),/*#__PURE__*/_jsx(ErrorToast,{show:isBlogsError||isCategoriesError,message:blogsMessage||categoriesMessage,onClose:()=>{dispatch(resetBlogSucAndErr());dispatch(resetCatSucAndErr());}})]});}","map":{"version":3,"names":["React","useEffect","Heading","Navbar","BlogGrid","Footer","SubHeading","CategoryList","SuccessToast","ErrorToast","useDispatch","useSelector","fetchBlogs","reset","resetBlogs","resetSuccessAndError","resetBlogSucAndErr","fetchCategories","resetCategories","resetCatSucAndErr","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","dispatch","blogs","isError","isBlogsError","isSuccess","isBlogsSuccess","message","blogsMessage","state","categories","isCategoriesError","isCategoriesSuccess","categoriesMessage","children","className","subHeading","blogPosts","isHome","slice","show","onClose"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/Frontend/src/pages/Home/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n\nimport Heading from \"../../components/Heading\";\nimport Navbar from \"../../components/Navbar\";\nimport BlogGrid from \"../../components/BlogGrid\";\nimport Footer from \"../../components/Footer\";\nimport SubHeading from \"../../components/SubHeading\";\nimport CategoryList from \"../../components/CategoryList\";\n\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchBlogs, reset as resetBlogs, resetSuccessAndError as resetBlogSucAndErr } from \"../../features/blogSlice\";\nimport { fetchCategories, reset as resetCategories, resetSuccessAndError as resetCatSucAndErr } from \"../../features/categoriesSlice\";\n\nexport default function Home() {\n\n  const dispatch = useDispatch();\n  const {\n    blogs,\n    isError: isBlogsError,\n    isSuccess: isBlogsSuccess,\n    message: blogsMessage,\n  } = useSelector((state) => state.blogs);\n  const {\n    categories, \n    isError: isCategoriesError, \n    isSuccess: isCategoriesSuccess,\n    message: categoriesMessage,\n  } = useSelector((state) => state.categories);\n\n  useEffect(() => {\n    dispatch(fetchBlogs());\n    dispatch(fetchCategories());\n\n    return () => {\n      dispatch(resetBlogs());\n      dispatch(resetCategories());\n    };\n  }, []);\n\n\n  return (\n    <>\n      <Navbar />\n      <Heading />\n       <div className=\"container\">\n        <SubHeading subHeading={\"Recent Blog Posts\"} />\n        <BlogGrid blogPosts={blogs}></BlogGrid>\n      </div>\n      <div className=\"bg-grey corner-clip-top-bottom py-15vmin mt-5\">\n        <div className=\"container\">\n          <div className=\"py-5\">\n            <SubHeading subHeading={\"Categories\"} />\n            <CategoryList isHome={true} categories={categories.slice(0,3)}></CategoryList>\n          </div>\n        </div>\n      </div>\n      <Footer />\n      <SuccessToast \n        show={isBlogsSuccess || isCategoriesSuccess}\n        message={blogsMessage || categoriesMessage}\n        onClose={ () => {\n          dispatch(resetBlogSucAndErr());\n          dispatch(resetCatSucAndErr());\n        }}\n      />\n      <ErrorToast\n        show={isBlogsError || isCategoriesError}\n        message={blogsMessage || categoriesMessage}\n        onClose={ () => {\n          dispatch(resetBlogSucAndErr());\n          dispatch(resetCatSucAndErr());\n        }}\n      />\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}