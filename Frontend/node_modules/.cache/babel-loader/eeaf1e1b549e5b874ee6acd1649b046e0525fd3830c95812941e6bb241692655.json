{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport categoryService from \"../services/categoryService\";\nconst initialState = {\n  addCategory: null,\n  editCategory: null,\n  deleteCategory: null,\n  categories: [],\n  category: null,\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: \"\"\n};\nexport const fetchCategories = createAsyncThunk(\"categories/fetchCategories\", async (_, thunkAPI) => {\n  try {\n    return await categoryService.fetchCategories();\n  } catch (error) {\n    const message = error.message || error;\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const updateCategory = createAsyncThunk(\"categories/updateCategory\", async (category, thunkAPI) => {\n  try {\n    return await categoryService.updateCategory(category);\n  } catch (error) {\n    const message = error.message || error;\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const createCategory = createAsyncThunk(\"categories/createCategory\", async (categoryId, thunkAPI) => {\n  try {\n    return await categoryService.createCategory(categoryId);\n  } catch (error) {\n    const message = error.message || error;\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const deleteCategory = createAsyncThunk(\"categories/deletedCategory\", async (payload, thunkAPI) => {\n  try {\n    return await categoryService.deleteCategory(payload.data.id);\n  } catch (error) {\n    const message = error.message || error;\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const categoriesSlice = createSlice({\n  name: \"categories\",\n  initialState,\n  reducers: {\n    reset: state => initialState,\n    resetSuccessAndError: state => {\n      state.isSuccess = false;\n      state.isError = false;\n      state.message = \"\";\n    },\n    setEditCategory: (state, {\n      payload\n    }) => {\n      state.editCategory = payload;\n      state.addCategory = null;\n      state.deleteCategory = null;\n    },\n    setAddCategory: (state, {\n      payload\n    }) => {\n      state.editCategory = null;\n      state.addCategory = payload;\n      state.deleteCategory = null;\n    },\n    setDeleteCategory: (state, {\n      payload\n    }) => {\n      state.editCategory = null;\n      state.addCategory = null;\n      state.deleteCategory = payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchCategories.pending, state => {\n      state.isLoading = true;\n    }).addCase(fetchCategories.fulfilled, (state, {\n      payload\n    }) => {\n      state.categories = payload.data;\n      state.isSuccess = true;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(fetchCategories.rejected, (state, {\n      payload\n    }) => {\n      state.message = payload;\n      state.isError = true;\n      state.isLoading = false;\n    }).addCase(createCategory.pending, state => {\n      state.isLoading = true;\n    }).addCase(createCategory.fulfilled, state => {\n      state.categories.push(payload.data);\n      state.addCategory = null;\n      state.isSuccess = true;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(createCategory.rejected, state => {\n      state.isError = true;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(updateCategory.pending, state => {\n      state.isLoading = true;\n    }).addCase(updateCategory.fulfilled, (state, {\n      payload\n    }) => {\n      const index = state.categories.map(x => x.id === payload.data.id);\n      state.categories = state.categories.map(x => x.id !== payload.data.id);\n      ;\n      state.categories.splice(index, 0, payload.data);\n      state.editCategory = null;\n      state.isSuccess = true;\n      state.isError = false;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(updateCategory.rejected, (state, {\n      payload\n    }) => {\n      // state.editCategory = null;\n      state.isError = true;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(deleteCategory.pending, state => {\n      state.isLoading = true;\n    }).addCase(deleteCategory.fulfilled, (state, {\n      payload\n    }) => {\n      const index = state.categories.map(x => x.id === payload.data.id);\n      state.categories = state.categories.map(x => x.id !== payload.data.id);\n      ;\n      state.categories.splice(index, 0, payload.data);\n      state.deleteCategory = null;\n      state.isSuccess = true;\n      state.isError = false;\n      state.isLoading = false;\n      state.message = payload.message;\n    }).addCase(deleteCategory.rejected, (state, {\n      payload\n    }) => {\n      // state.editCategory = null;\n      state.isError = true;\n      state.isLoading = false;\n      state.message = payload.message;\n    });\n  }\n});\nexport const {\n  reset,\n  resetSuccessAndError,\n  setEditCategory,\n  setAddCategory,\n  setDeleteCategory\n} = categoriesSlice.actions;\nexport default categoriesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","categoryService","initialState","addCategory","editCategory","deleteCategory","categories","category","isError","isSuccess","isLoading","message","fetchCategories","_","thunkAPI","error","rejectWithValue","updateCategory","createCategory","categoryId","payload","data","id","categoriesSlice","name","reducers","reset","state","resetSuccessAndError","setEditCategory","setAddCategory","setDeleteCategory","extraReducers","builder","addCase","pending","fulfilled","rejected","push","index","map","x","splice","actions","reducer"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/Frontend/src/features/categoriesSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport categoryService from \"../services/categoryService\";\n\nconst initialState = {\n  addCategory: null,\n  editCategory: null,\n  deleteCategory: null,\n  categories: [],\n  category: null,\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: \"\",\n};\n\nexport const fetchCategories = createAsyncThunk(\n  \"categories/fetchCategories\",\n  async (_, thunkAPI) => {\n    try {\n      return await categoryService.fetchCategories();\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const updateCategory = createAsyncThunk(\n  \"categories/updateCategory\",\n  async(category, thunkAPI) => {\n    try {\n      return await categoryService.updateCategory(category);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const createCategory = createAsyncThunk(\n  \"categories/createCategory\",\n  async(categoryId, thunkAPI) => {\n    try {\n      return await categoryService.createCategory(categoryId);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\nexport const deleteCategory = createAsyncThunk(\n  \"categories/deletedCategory\",\n  async(payload, thunkAPI) => {\n    try {\n      return await categoryService.deleteCategory(payload.data.id);\n    } catch (error) {\n      const message = error.message || error;\n      return thunkAPI. rejectWithValue(message);\n    }\n  }\n);\n\nexport const categoriesSlice = createSlice({\n  name: \"categories\",\n  initialState,\n  reducers: {\n    reset: (state) => initialState,\n    resetSuccessAndError: (state) => {\n      state.isSuccess = false;\n      state.isError = false;\n      state.message = \"\";\n    },\n    setEditCategory: (state, {payload}) => {\n      state.editCategory = payload;\n      state.addCategory = null;\n      state.deleteCategory = null;\n    },\n    setAddCategory: (state, {payload}) => {\n      state.editCategory = null;\n      state.addCategory = payload;\n      state.deleteCategory = null;\n    },\n    setDeleteCategory: (state, {payload}) => {\n      state.editCategory = null;\n      state.addCategory = null;\n      state.deleteCategory = payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCategories.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(fetchCategories.fulfilled, (state, { payload }) => {\n        state.categories = payload.data;\n        state.isSuccess = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(fetchCategories.rejected, (state, { payload }) => {\n        state.message = payload;\n        state.isError = true;\n        state.isLoading = false;\n      })\n      .addCase(createCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(createCategory.fulfilled, (state) => {\n        state.categories.push(payload.data);\n        state.addCategory = null;\n        state.isSuccess = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(createCategory.rejected, (state) => {\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(updateCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(updateCategory.fulfilled, (state, {payload}) => {\n        const index = state.categories.map((x) => x.id === payload.data.id);\n        state.categories = state.categories.map((x) => x.id !== payload.data.id);;\n        state.categories.splice(index, 0, payload.data);\n        state.editCategory = null;\n        state.isSuccess = true;\n        state.isError = false;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(updateCategory.rejected, (state, {payload}) => {\n        // state.editCategory = null;\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(deleteCategory.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(deleteCategory.fulfilled, (state, {payload}) => {\n        const index = state.categories.map((x) => x.id === payload.data.id);\n        state.categories = state.categories.map((x) => x.id !== payload.data.id);;\n        state.categories.splice(index, 0, payload.data);\n        state.deleteCategory = null;\n        state.isSuccess = true;\n        state.isError = false;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n      .addCase(deleteCategory.rejected, (state, {payload}) => {\n        // state.editCategory = null;\n        state.isError = true;\n        state.isLoading = false;\n        state.message = payload.message;\n      })\n  },\n});\n\nexport const { \n  reset, \n  resetSuccessAndError, \n  setEditCategory,\n  setAddCategory,\n  setDeleteCategory,\n} = categoriesSlice.actions;\nexport default categoriesSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}