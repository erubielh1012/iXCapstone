{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{login,resetSuccessAndError}from\"../../features/authSlice\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import Loading from\"../../components/Loading\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function LoginPage(){const navigate=useNavigate();const dispatch=useDispatch();const{user,isError,isSuccess,isLoading,message}=useSelector(state=>state.auth);useEffect(()=>{if(isSuccess||user){navigate(\"/home\");}},[user,isError,isSuccess,isLoading,message,navigate]);const[formData,setFormData]=useState({email:\"\",password:\"\"});const{email,password}=formData;const onChange=e=>{setFormData(prevState=>({...prevState,[e.target.name]:e.target.value}));};const onSubmit=async e=>{e.preventDefault();dispatch(login(formData));};if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"html-body\",children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",placeholder:\"name@example.com\",value:email,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Sign in\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"my-5\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted text-center\",children:\"The Blog App \\xA9 2024\"})]})})}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:()=>{dispatch(resetSuccessAndError);}}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:()=>{dispatch(resetSuccessAndError);}})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useDispatch","useSelector","login","resetSuccessAndError","SuccessToast","ErrorToast","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginPage","navigate","dispatch","user","isError","isSuccess","isLoading","message","state","auth","formData","setFormData","email","password","onChange","e","prevState","target","name","value","onSubmit","preventDefault","children","className","type","id","placeholder","htmlFor","to","show","onClose"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/frontend/src/pages/Login/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login, resetSuccessAndError } from \"../../features/authSlice\";\n\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport Loading from \"../../components/Loading\";\n\nimport \"./index.css\";\n\nexport default function LoginPage() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { user, isError, isSuccess, isLoading, message } = useSelector(\n    (state) => state.auth\n  );\n\n  useEffect(() => {\n    if (isSuccess || user) {\n      navigate(\"/home\");\n    }\n  }, [user, isError, isSuccess, isLoading, message, navigate]);\n\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formData;\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    dispatch(login(formData));\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <div className=\"html-body\">\n        <main className=\"form-signin\">\n          <form onSubmit={onSubmit}>\n            <h1 className=\"h3 mb-3 fw-normal\">Please login</h1>\n            <div className=\"form-floating\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"name@example.com\"\n                value={email}\n                onChange={onChange}\n              />\n              <label htmlFor=\"floatingInput\">Email address</label>\n            </div>\n            <div className=\"form-floating\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={onChange}\n              />\n              <label htmlFor=\"password\">Password</label>\n            </div>\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\n              Sign in\n            </button>\n\n            <Link to=\"/register\" className=\"my-5\">\n              Register\n            </Link>\n            <p className=\"mt-5 mb-3 text-muted text-center\">\n              The Blog App &copy; 2024\n            </p>\n          </form>\n        </main>\n      </div>\n      <SuccessToast\n        show={isSuccess}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError);\n        }}\n      />\n      <ErrorToast\n        show={isError}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError);\n        }}\n      />\n    </>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,KAAK,CAAEC,oBAAoB,KAAQ,0BAA0B,CAEtE,MAAO,CAAAC,YAAY,KAAM,+BAA+B,CACxD,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAE9C,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErB,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEgB,IAAI,CAAEC,OAAO,CAAEC,SAAS,CAAEC,SAAS,CAAEC,OAAQ,CAAC,CAAGnB,WAAW,CACjEoB,KAAK,EAAKA,KAAK,CAACC,IACnB,CAAC,CAED1B,SAAS,CAAC,IAAM,CACd,GAAIsB,SAAS,EAAIF,IAAI,CAAE,CACrBF,QAAQ,CAAC,OAAO,CAAC,CACnB,CACF,CAAC,CAAE,CAACE,IAAI,CAAEC,OAAO,CAAEC,SAAS,CAAEC,SAAS,CAAEC,OAAO,CAAEN,QAAQ,CAAC,CAAC,CAE5D,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAG3B,QAAQ,CAAC,CACvC4B,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF,KAAM,CAAED,KAAK,CAAEC,QAAS,CAAC,CAAGH,QAAQ,CAEpC,KAAM,CAAAI,QAAQ,CAAIC,CAAC,EAAK,CACtBJ,WAAW,CAAEK,SAAS,GAAM,CAC1B,GAAGA,SAAS,CACZ,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAC5B,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,KAAO,CAAAL,CAAC,EAAK,CAC5BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBnB,QAAQ,CAACb,KAAK,CAACqB,QAAQ,CAAC,CAAC,CAC3B,CAAC,CAED,GAAIJ,SAAS,CAAE,CACb,mBAAOX,IAAA,CAACF,OAAO,GAAE,CAAC,CACpB,CAEA,mBACEI,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACE3B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxB3B,IAAA,SAAM4B,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC3BzB,KAAA,SAAMuB,QAAQ,CAAEA,QAAS,CAAAE,QAAA,eACvB3B,IAAA,OAAI4B,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,cAAY,CAAI,CAAC,cACnDzB,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B3B,IAAA,UACE6B,IAAI,CAAC,OAAO,CACZD,SAAS,CAAC,cAAc,CACxBE,EAAE,CAAC,OAAO,CACVP,IAAI,CAAC,OAAO,CACZQ,WAAW,CAAC,kBAAkB,CAC9BP,KAAK,CAAEP,KAAM,CACbE,QAAQ,CAAEA,QAAS,CACpB,CAAC,cACFnB,IAAA,UAAOgC,OAAO,CAAC,eAAe,CAAAL,QAAA,CAAC,eAAa,CAAO,CAAC,EACjD,CAAC,cACNzB,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B3B,IAAA,UACE6B,IAAI,CAAC,UAAU,CACfD,SAAS,CAAC,cAAc,CACxBE,EAAE,CAAC,UAAU,CACbP,IAAI,CAAC,UAAU,CACfQ,WAAW,CAAC,UAAU,CACtBP,KAAK,CAAEN,QAAS,CAChBC,QAAQ,CAAEA,QAAS,CACpB,CAAC,cACFnB,IAAA,UAAOgC,OAAO,CAAC,UAAU,CAAAL,QAAA,CAAC,UAAQ,CAAO,CAAC,EACvC,CAAC,cACN3B,IAAA,WAAQ4B,SAAS,CAAC,8BAA8B,CAACC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,SAE/D,CAAQ,CAAC,cAET3B,IAAA,CAACV,IAAI,EAAC2C,EAAE,CAAC,WAAW,CAACL,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,UAEtC,CAAM,CAAC,cACP3B,IAAA,MAAG4B,SAAS,CAAC,kCAAkC,CAAAD,QAAA,CAAC,wBAEhD,CAAG,CAAC,EACA,CAAC,CACH,CAAC,CACJ,CAAC,cACN3B,IAAA,CAACJ,YAAY,EACXsC,IAAI,CAAExB,SAAU,CAChBE,OAAO,CAAEA,OAAQ,CACjBuB,OAAO,CAAEA,CAAA,GAAM,CACb5B,QAAQ,CAACZ,oBAAoB,CAAC,CAChC,CAAE,CACH,CAAC,cACFK,IAAA,CAACH,UAAU,EACTqC,IAAI,CAAEzB,OAAQ,CACdG,OAAO,CAAEA,OAAQ,CACjBuB,OAAO,CAAEA,CAAA,GAAM,CACb5B,QAAQ,CAACZ,oBAAoB,CAAC,CAChC,CAAE,CACH,CAAC,EACF,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}