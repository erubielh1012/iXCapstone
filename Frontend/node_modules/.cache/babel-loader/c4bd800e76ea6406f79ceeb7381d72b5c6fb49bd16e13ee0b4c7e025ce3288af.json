{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Navbar from\"../../components/Navbar\";import Heading from\"../../components/Heading\";import CategoryList from'../../components/CategoryList';import Footer from\"../../components/Footer\";import Loading from\"../../components/Loading\";import\"../../App.css\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import AddEditCategoryModal from\"../../components/AddEditCategoryModal\";import DeleteCategoryModal from\"../../components/DeleteCategoryModal\";import{fetchCategories,setAddCategory,resetSuccessAndError}from'../../features/categoriesSlice';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CategoriesPage(){const dispatch=useDispatch();const user=JSON.parse(localStorage.getItem(\"user\"));const{categories,isLoading,isSuccess,isError,message}=useSelector(state=>state.categories);useEffect(()=>{dispatch(fetchCategories());return()=>dispatch(resetSuccessAndError());},[]);const onCategoryAdd=()=>{dispatch(setAddCategory({title:\"\",description:\"\",color:\"#000000\"}));};const AddButton=()=>{if(!(user!==null&&user!==void 0&&user.token))return null;return/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark h-75\",onClick:onCategoryAdd,children:\"ADD CATEGORY\"});};if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Heading,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Categories\"}),/*#__PURE__*/_jsx(AddButton,{})]}),/*#__PURE__*/_jsx(CategoryList,{isHome:false,categories:categories})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(AddEditCategoryModal,{}),/*#__PURE__*/_jsx(DeleteCategoryModal,{}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:()=>{dispatch(resetSuccessAndError());}}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:()=>{dispatch(resetSuccessAndError());}})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Navbar","Heading","CategoryList","Footer","Loading","SuccessToast","ErrorToast","AddEditCategoryModal","DeleteCategoryModal","fetchCategories","setAddCategory","resetSuccessAndError","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CategoriesPage","dispatch","user","JSON","parse","localStorage","getItem","categories","isLoading","isSuccess","isError","message","state","onCategoryAdd","title","description","color","AddButton","token","className","onClick","children","style","display","justifyContent","isHome","show","onClose"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/Frontend/src/pages/Categories/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Navbar from \"../../components/Navbar\";\nimport Heading from \"../../components/Heading\";\nimport CategoryList from '../../components/CategoryList';\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\n\nimport \"../../App.css\";\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport AddEditCategoryModal from \"../../components/AddEditCategoryModal\";\nimport DeleteCategoryModal from \"../../components/DeleteCategoryModal\";\n\nimport { \n  fetchCategories, \n  setAddCategory, \n  resetSuccessAndError \n} from '../../features/categoriesSlice';\n\nexport default function CategoriesPage() {\n\n  const dispatch = useDispatch();\n\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  const {\n    categories,\n    isLoading,\n    isSuccess,\n    isError,\n    message,\n  } = useSelector((state) => (state.categories))\n\n  useEffect(() => {\n    dispatch(fetchCategories());\n    return () => dispatch(resetSuccessAndError());\n  }, []);\n\n  const onCategoryAdd = () => {\n    dispatch(setAddCategory({\n      title: \"\",\n      description: \"\",\n      color: \"#000000\"\n    }))\n  }\n\n  const AddButton = () => {\n    if (!user?.token) return null;\n    return (\n      <button className=\"btn btn-outline-dark h-75\" onClick={onCategoryAdd}>\n        ADD CATEGORY\n      </button>\n    );\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container\">\n        <Heading />\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <p className=\"page-subtitle\">Categories</p>\n          <AddButton />\n        </div>\n        <CategoryList\n          isHome={false}\n          categories={categories}\n        ></CategoryList>\n      </div>\n      <Footer />\n      <AddEditCategoryModal/>\n      <DeleteCategoryModal/>\n      <SuccessToast\n        show={isSuccess}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n      <ErrorToast\n        show={isError}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}