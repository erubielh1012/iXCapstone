{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{register,reset}from\"../../features/authSlice\";import\"./index.css\";import SuccessToast from\"../../components/SuccessToast\";import ErrorToast from\"../../components/ErrorToast\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function RegisterPage(){const navigate=useNavigate();const dispatch=useDispatch();const[formData,setFormData]=useState({firstName:\"\",lastName:\"\",bio:\"\",email:\"\",password:\"\"});const{firstName,lastName,bio,email,password}=formData;const{user,isError,isSuccess,isLoading,message}=useSelector(state=>state.auth);useEffect(()=>{if(isSuccess||user){navigate(\"/home\");}},[user,isError,isSuccess,isLoading,message,navigate]);const onChange=e=>{setFormData(prevState=>({...prevState,[e.target.name]:e.target.value}));};const onSubmit=async e=>{e.preventDefault();dispatch(register(formData));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"html-body\",children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Author registration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"firstName\",name:\"firstName\",placeholder:\"Joe\",value:firstName,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"lastName\",name:\"lastName\",placeholder:\"Soap\",value:lastName,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"bio\",name:\"bio\",placeholder:\"name@example.com\",value:bio,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bio\",children:\"Bio\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",placeholder:\"...\",value:email,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"my-5\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted text-center\",children:\"The Blog App \\xA9 2024\"})]})})}),/*#__PURE__*/_jsx(SuccessToast,{show:isSuccess,message:message,onClose:()=>{dispatch(reset());}}),/*#__PURE__*/_jsx(ErrorToast,{show:isError,message:message,onClose:()=>{dispatch(reset());}})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useDispatch","useSelector","register","reset","SuccessToast","ErrorToast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterPage","navigate","dispatch","formData","setFormData","firstName","lastName","bio","email","password","user","isError","isSuccess","isLoading","message","state","auth","onChange","e","prevState","target","name","value","onSubmit","preventDefault","children","className","type","id","placeholder","htmlFor","to","show","onClose"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/frontend/src/pages/Register/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { register, reset } from \"../../features/authSlice\";\n\nimport \"./index.css\";\n\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\n\nexport default function RegisterPage() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  \n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    bio: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const { firstName, lastName, bio, email, password } = formData;\n\n  const { user, isError, isSuccess, isLoading, message } = useSelector(\n    (state) => state.auth\n  );\n\n  useEffect(() => {\n    if (isSuccess || user) {\n      navigate(\"/home\");\n    }\n  }, [user, isError, isSuccess, isLoading, message, navigate]);\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    dispatch(register(formData));\n  };\n\n  return (\n    <>\n      <div className=\"html-body\">\n        <main className=\"form-signin\">\n          <form onSubmit={onSubmit}>\n            <h1 className=\"h3 mb-3 fw-normal\">Author registration</h1>\n            <div className=\"form-floating\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"firstName\"\n                name=\"firstName\"\n                placeholder=\"Joe\"\n                value={firstName}\n                onChange={onChange}\n              />\n              <label htmlFor=\"firstName\">First name</label>\n            </div>\n            <div className=\"form-floating\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"lastName\"\n                name=\"lastName\"\n                placeholder=\"Soap\"\n                value={lastName}\n                onChange={onChange}\n              />\n              <label htmlFor=\"lastName\">Last name</label>\n            </div>\n            <div className=\"form-floating\">\n              <textarea\n                type=\"text\"\n                className=\"form-control\"\n                id=\"bio\"\n                name=\"bio\"\n                placeholder=\"name@example.com\"\n                value={bio}\n                onChange={onChange}\n              />\n              <label htmlFor=\"bio\">Bio</label>\n            </div>\n            <div className=\"form-floating\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"...\"\n                value={email}\n                onChange={onChange}\n              />\n              <label htmlFor=\"email\">Email address</label>\n            </div>\n            <div className=\"form-floating\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={onChange}\n              />\n              <label htmlFor=\"password\">Password</label>\n            </div>\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\n              Register\n            </button>\n            <Link to=\"/login\" className=\"my-5\">\n              Login\n            </Link>\n            <p className=\"mt-5 mb-3 text-muted text-center\">\n              The Blog App &copy; 2024\n            </p>\n          </form>\n        </main>\n      </div>\n      <SuccessToast\n        show={isSuccess}\n        message={message}\n        onClose={() => {\n          dispatch(reset());\n        }}\n      />\n      <ErrorToast\n        show={isError}\n        message={message}\n        onClose={() => {\n          dispatch(reset());\n        }}\n      />\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}