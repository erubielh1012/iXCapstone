{"ast":null,"code":"var _jsxFileName = \"/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/Frontend/src/pages/Categories/index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Navbar from \"../../components/Navbar\";\nimport Heading from \"../../components/Heading\";\nimport CategoryList from '../../components/CategoryList';\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\nimport \"../../App.css\";\nimport SubHeading from '../../components/SubHeading';\nimport categoryService from '../../services/categoryService';\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport AddEditCategoryModal from \"../../components/AddEditCategoryModal\";\nimport DeleteCategoryModal from \"../../components/DeleteCategoryModal\";\nimport { fetchCategories, setAddCategory, setEditCategory, setDeleteCategory, resetSuccessAndError } from '../../features/categoriesSlice';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CategoriesPage() {\n  _s();\n  const dispatch = useDispatch();\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const {\n    categories,\n    deleteCategory,\n    isLoading,\n    isSuccess,\n    isError,\n    message\n  } = useSelector(state => state.categories);\n  useEffect(() => {\n    dispatch(fetchCategories());\n    return dispatch(resetSuccessAndError());\n  }, []);\n  const onCategoryDelete = category => {\n    setDeleteCategory(category);\n  };\n  const removeCategory = async category => {\n    dispatch(deleteCategory(category.id));\n    setDeleteCategory(null);\n  };\n  const AddButton = () => {\n    if (!(user !== null && user !== void 0 && user.token)) return null;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-outline-dark h-75\",\n      onClick: onCategoryAdd,\n      children: \"ADD CATEGORY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-subtitle\",\n          children: \"Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CategoryList, {\n        categories: categories,\n        onDelete: onCategoryDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddEditCategoryModal, {\n      onClose: () => {\n        dispatch(resetSuccessAndError());\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteCategoryModal\n    // deleteCategory={deleteCategory}\n    // removeCategory={removeCategory}\n    , {\n      onClose: () => setDeleteCategory(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SuccessToast, {\n      show: isSuccess,\n      message: message,\n      onClose: () => {\n        dispatch(resetSuccessAndError());\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ErrorToast, {\n      show: isError,\n      message: message,\n      onClose: () => {\n        dispatch(resetSuccessAndError());\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CategoriesPage, \"1neELVFAjf+6jl7CobuqAkobPR0=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = CategoriesPage;\nvar _c;\n$RefreshReg$(_c, \"CategoriesPage\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Navbar","Heading","CategoryList","Footer","Loading","SubHeading","categoryService","SuccessToast","ErrorToast","AddEditCategoryModal","DeleteCategoryModal","fetchCategories","setAddCategory","setEditCategory","setDeleteCategory","resetSuccessAndError","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoriesPage","_s","dispatch","user","JSON","parse","localStorage","getItem","categories","deleteCategory","isLoading","isSuccess","isError","message","state","onCategoryDelete","category","removeCategory","id","AddButton","token","className","onClick","onCategoryAdd","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","onDelete","onClose","show","_c","$RefreshReg$"],"sources":["/Users/erucuh/Downloads/Coding4Fun/IX/CapstoneBlogApp/BlogApp/Frontend/src/pages/Categories/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Navbar from \"../../components/Navbar\";\nimport Heading from \"../../components/Heading\";\nimport CategoryList from '../../components/CategoryList';\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\n\nimport \"../../App.css\";\nimport SubHeading from '../../components/SubHeading';\nimport categoryService from '../../services/categoryService';\nimport SuccessToast from \"../../components/SuccessToast\";\nimport ErrorToast from \"../../components/ErrorToast\";\nimport AddEditCategoryModal from \"../../components/AddEditCategoryModal\";\nimport DeleteCategoryModal from \"../../components/DeleteCategoryModal\";\n\nimport { \n  fetchCategories, \n  setAddCategory, \n  setEditCategory, \n  setDeleteCategory, \n  resetSuccessAndError \n} from '../../features/categoriesSlice';\n\nexport default function CategoriesPage() {\n\n  const dispatch = useDispatch();\n\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  const {\n    categories,\n    deleteCategory,\n    isLoading,\n    isSuccess,\n    isError,\n    message,\n  } = useSelector((state) => (state.categories))\n\n  useEffect(() => {\n    dispatch(fetchCategories());\n    return dispatch(resetSuccessAndError());\n  }, []);\n\n  const onCategoryDelete = (category) => {\n    setDeleteCategory(category);\n  };\n\n  const removeCategory = async (category) => {\n    dispatch(deleteCategory(category.id));\n    setDeleteCategory(null);\n  };\n\n  const AddButton = () => {\n    if (!user?.token) return null;\n    return (\n      <button className=\"btn btn-outline-dark h-75\" onClick={onCategoryAdd}>\n        ADD CATEGORY\n      </button>\n    );\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container\">\n        <Heading />\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <p className=\"page-subtitle\">Categories</p>\n          <AddButton />\n        </div>\n        <CategoryList\n          categories={categories}\n          onDelete={onCategoryDelete}\n        ></CategoryList>\n      </div>\n      <Footer />\n      <AddEditCategoryModal\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n      <DeleteCategoryModal\n        // deleteCategory={deleteCategory}\n        // removeCategory={removeCategory}\n        onClose={() => setDeleteCategory(null)}\n      />\n      <SuccessToast\n        show={isSuccess}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n      <ErrorToast\n        show={isError}\n        message={message}\n        onClose={() => {\n          dispatch(resetSuccessAndError());\n        }}\n      />\n    </>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,YAAY,MAAM,+BAA+B;AACxD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,OAAO,MAAM,0BAA0B;AAE9C,OAAO,eAAe;AACtB,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,OAAOC,YAAY,MAAM,+BAA+B;AACxD,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,oBAAoB,MAAM,uCAAuC;AACxE,OAAOC,mBAAmB,MAAM,sCAAsC;AAEtE,SACEC,eAAe,EACfC,cAAc,EACdC,eAAe,EACfC,iBAAiB,EACjBC,oBAAoB,QACf,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAEvC,MAAMC,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAE9B,MAAMyB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,MAAM;IACJC,UAAU;IACVC,cAAc;IACdC,SAAS;IACTC,SAAS;IACTC,OAAO;IACPC;EACF,CAAC,GAAGlC,WAAW,CAAEmC,KAAK,IAAMA,KAAK,CAACN,UAAW,CAAC;EAE9ChC,SAAS,CAAC,MAAM;IACd0B,QAAQ,CAACX,eAAe,CAAC,CAAC,CAAC;IAC3B,OAAOW,QAAQ,CAACP,oBAAoB,CAAC,CAAC,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMoB,gBAAgB,GAAIC,QAAQ,IAAK;IACrCtB,iBAAiB,CAACsB,QAAQ,CAAC;EAC7B,CAAC;EAED,MAAMC,cAAc,GAAG,MAAOD,QAAQ,IAAK;IACzCd,QAAQ,CAACO,cAAc,CAACO,QAAQ,CAACE,EAAE,CAAC,CAAC;IACrCxB,iBAAiB,CAAC,IAAI,CAAC;EACzB,CAAC;EAED,MAAMyB,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAI,EAAChB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEiB,KAAK,GAAE,OAAO,IAAI;IAC7B,oBACEvB,OAAA;MAAQwB,SAAS,EAAC,2BAA2B;MAACC,OAAO,EAAEC,aAAc;MAAAC,QAAA,EAAC;IAEtE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAEb,CAAC;EAED,IAAIlB,SAAS,EAAE;IACb,oBAAOb,OAAA,CAACb,OAAO;MAAAyC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpB;EAEA,oBACE/B,OAAA,CAAAE,SAAA;IAAAyB,QAAA,gBACE3B,OAAA,CAACjB,MAAM;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACV/B,OAAA;MAAKwB,SAAS,EAAC,WAAW;MAAAG,QAAA,gBACxB3B,OAAA,CAAChB,OAAO;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACX/B,OAAA;QAAKgC,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAgB,CAAE;QAAAP,QAAA,gBAC/D3B,OAAA;UAAGwB,SAAS,EAAC,eAAe;UAAAG,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC3C/B,OAAA,CAACsB,SAAS;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACN/B,OAAA,CAACf,YAAY;QACX0B,UAAU,EAAEA,UAAW;QACvBwB,QAAQ,EAAEjB;MAAiB;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACb,CAAC,eACN/B,OAAA,CAACd,MAAM;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACV/B,OAAA,CAACR,oBAAoB;MACnB4C,OAAO,EAAEA,CAAA,KAAM;QACb/B,QAAQ,CAACP,oBAAoB,CAAC,CAAC,CAAC;MAClC;IAAE;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACF/B,OAAA,CAACP;IACC;IACA;IAAA;MACA2C,OAAO,EAAEA,CAAA,KAAMvC,iBAAiB,CAAC,IAAI;IAAE;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC,eACF/B,OAAA,CAACV,YAAY;MACX+C,IAAI,EAAEvB,SAAU;MAChBE,OAAO,EAAEA,OAAQ;MACjBoB,OAAO,EAAEA,CAAA,KAAM;QACb/B,QAAQ,CAACP,oBAAoB,CAAC,CAAC,CAAC;MAClC;IAAE;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACF/B,OAAA,CAACT,UAAU;MACT8C,IAAI,EAAEtB,OAAQ;MACdC,OAAO,EAAEA,OAAQ;MACjBoB,OAAO,EAAEA,CAAA,KAAM;QACb/B,QAAQ,CAACP,oBAAoB,CAAC,CAAC,CAAC;MAClC;IAAE;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACF,CAAC;AAEP;AAAC3B,EAAA,CAnFuBD,cAAc;EAAA,QAEnBtB,WAAW,EAWxBC,WAAW;AAAA;AAAAwD,EAAA,GAbOnC,cAAc;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}